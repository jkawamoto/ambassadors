<head {{ with .Site.LanguageCode }}lang="{{ . }}"{{ end }}>
  <meta charset="utf-8" />
  <script async custom-element="amp-ad" src="https://cdn.ampproject.org/v0/amp-ad-0.1.js"></script>
  <script async custom-element="amp-analytics"
      src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
  <script async src="https://cdn.ampproject.org/v0.js"></script>
  <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0" />
  {{ with .Site.Params.description -}}
  <meta name="description" content="{{ . }}">
  {{- end }}
  {{ range .AlternativeOutputFormats -}}
  <link rel="{{ .Rel }}" type="{{ .MediaType.Type }}" href="{{ .Permalink | safeURL }}" />
  {{ end }}
  {{ .Hugo.Generator }}

  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style>
  <noscript>
    <style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style>
  </noscript>

  <title>{{ if not .IsHome }}{{ .Title }} &mdash;{{ end }}{{ .Site.Title }}</title>

  <style amp-custom>
  {{- partial "basic.min.css" . | safeCSS -}}
  {{- partial "alabaster.min.css" . | safeCSS -}}
  {{ with .Site.Params.custom_css }}
  {{- . | safeCSS -}}
  {{ end }}
  </style>

  {{ with .Site.Params.favicon -}}
  <link rel="shortcut icon" href="{{ $.Site.BaseURL }}{{ . }}" type="image/x-icon"/>
  {{- else -}}
  <link rel="shortcut icon" href="{{ $.Site.BaseURL }}favicon.ico" type="image/x-icon"/>
  {{- end }}

  <meta property="og:type" content="article" />
  <meta property="og:title" content="{{ if not .IsHome }}{{ .Title }} &mdash;{{ end }}{{ .Site.Title }}" />
  {{ if isset .Params "description" }}
  <meta name="og:description" content="{{ .Params.description }}" />
  {{ else }}
  <meta name="og:description" content="{{ with .Site.Params.description }}{{ . }}{{ end }}" />
  {{ end }}
  <meta property="og:image" content="{{ .Site.BaseURL }}{{ .Site.Params.image }}" />
  <meta property="og:site_name"  content="{{ .Site.Title }}" />

  {{ if isset .Params "description" }}
  <meta name="twitter:card" content="{{ .Params.description }}" />
  {{ else }}
  <meta name="twitter:card" content="{{ with .Site.Params.description }}{{ . }}{{ end }}" />
  {{ end }}
  <meta name="twitter:site" content="{{ .Site.Params.twitter }}" />
</head>
